#! /bin/bash
#
# Tools:
# - https://www.gnu.org/software/bash/manual/html_node/Controlling-the-Prompt.html
# - https://en.wikipedia.org/wiki/ANSI_escape_code#3-bit_and_4-bit
# - https://en.wikipedia.org/wiki/ANSI_escape_code#8-bit
# - https://bashrcgenerator.com/

# Colors
_clearAll="\[\e[0m\]"
_purple="$_clearAll\e[0;35m"
_brightGreen="$_clearAll\e[1;32m"
_brightBlue="$_clearAll\e[1;34m"

# Markup
_italic="\e[3m"
_bold="\e[1m"

# Used Markup Values
_defaultColor="$_clearAll"
_mainPromptColor="$_brightGreen"
_directoryColor="$_brightBlue"
_branchColor="$_purple$_italic"

# Possible escape sequences
_bell="\a"
_date="/d"          # Weekday Month day
_dateFormat="\D{%d-%m-%Y}"
_escape="\e"
_hostShort="\h"
_hostLong="\H"
_jobs="\j"
_termDevBasename="\l"
_newline="\n"
_carriageReturn="\r"
_shell="\s"
_time24secs="\t"    # HH:MM:SS  24-hour
_time12="\t"        # HH:MM:SS  12-hour
_timeAmPm="\@"      # HH:MM     12-hour am/pm
_time24="\A"        # HH:MM     24-hour
_user="\u"
_bashVersion="\v"
_bashRelease="\V"
_path="\w"
_directory="\W"
_historyNumber="\!"
_commandNumber="\#"
_prompt="\$"
__ascii="\nnn"      # Character with ASCII code as octal value nnn
_backslash="\\"
_nonPrintBegin="\["
_nonPrintEnd="\]"

_gitBranch="\$(git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/$_mainPromptColor[$_branchColorîœ¥ \1$_mainPromptColor] /')"

export PS1="\
$_mainPromptColor$_user@$_hostLong: \
$_directoryColor$_directory \
$_gitBranch\
$_mainPromptColor$_prompt \
$_defaultColor\
"

